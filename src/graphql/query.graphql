query TopPage($skip: Int, $limit: Int) {
  posts: postCollection(
    skip: $skip
    limit: $limit
    order: [sys_firstPublishedAt_DESC]
  ) {
    items {
      sys {
        firstPublishedAt
      }
      title
      slug
      description
      tags
      catchImage {
        url
      }
    }
  }
  allSlugs: postCollection {
    items {
      slug
    }
  }
}

query PostPage($skip: Int, $limit: Int, $slug: String!) {
  posts: postCollection(skip: $skip, limit: $limit, where: { slug: $slug }) {
    items {
      sys {
        firstPublishedAt
        publishedAt
      }
      title
      content
      description
      tags
      catchImage {
        url
      }
    }
  }
}

query SearchPage($skip: Int, $limit: Int, $word: String, $tags: [String]) {
  posts: postCollection(
    skip: $skip
    limit: $limit
    where: {
      OR: [
        { tags_contains_some: $tags }
        { title_contains: $word }
        { slug_contains: $word }
      ]
    }
  ) {
    items {
      sys {
        firstPublishedAt
        publishedAt
      }
      title
      slug
      description
      content
      tags
      catchImage {
        url
      }
    }
  }
  allTags: postCollection {
    items {
      tags
    }
  }
}